<!doctype linuxdoc system>

<!-- kde handbook
 -->

<article>

<!-- Title information -->

<title>International Keyboard Handbook
<author>Alexander Budnik, <tt/budnik@linserv.jinr.ru/
<date>v0.2.0, Mar 16 1998
<abstract>This Handbook describes International Keyboard Version 0.2.0

<!-- Table of contents -->
<toc>

<!-- Begin the document -->

<sect>Introduction<p>

  KiKbd is designed to help typing national symbols different from default 
  Latin symbols on Xserver. Instead of "classic" method of typing national 
  symbols using one X keyboard map and modifier keys, KiKbd can remember 
  more then one keyboard map and perform dynamically switching of them. 
  This means what KiKbd can support more then one language at the same time.

</sect>

<sect>Installation<p>

  Installation from sources go as usual :-)
  <verb>
     % ./configure
     % make
     % make install
  </verb>
  You need at least KDE Beta 3 to successfully compile KiKbd. 

</sect>

<sect>National Keyboard<p>

  For each language or national keyboard KiKbd remember keyboard map 
  which can have up to four symbols per physical keyboard key. For 
  example in Russian keyboard you have four symbols for key 'Q' : 
  short i, capital short I, q, and capital Q. First two symbols let 
  named national symbols and last two symbols let named alternate symbols. 
  For typing Alternate symbols you have to setup special key in the 
  KiKbd configuration, look into Personal Configuration section. 
  Normally you will get first symbol when typing, second symbol when 
  you typing with Shift, third symbol when you typing with Alternate 
  Switch and fourth symbol when you typing with Alternate Switch 
  together with Shift.<p> 
  For now KiKbd distribute the following national keyboards :<p> 

  <itemize>
  <item> 
    Canadian French (Cf). Created by Goraczko Michal 
    (goraczkm@JSP.UMontreal.CA) 
  </item>
  <item> 
    Hungarian (Hu) - used free symbols in the language keyboard map. 
    Created by Sebestyen Zoltan (szoli@digo.inf.elte.hu). 
  </item>
  <item>
    Polish (Pl) - use all four symbols in the language keyboard map. 
    Created from xmodmap posted by Jacek Konieczny 
    (jajcus@zeus.polsl.gliwice.pl). 
  </item>
  <item>
    Russian (Ru) - Russian symbols in KOI8 charset, used Latin symbols as 
    alternate symbols. You can simply type Latin symbols by holding Alternate 
    Switch. Created from xmodmap distributed with xrus by Alexander Lukaynov 
    (lav@yars.free.net). 
  </item>
  <item>
    Russian (RW) - Russian symbols in cp1251 (windows) charset, used Latin 
    symbols as alternate symbols. You can simply type Latin symbols by 
    holding Alternate Switch. Created from xmodmap distributed with xrus 
    by Alexander Lukaynov (lav@yars.free.net). 
  </item>
  <item>
    Ukrainian (Ua) - Ukrainian symbols in KOI8-U charset, used Latin symbols 
    as alternate symbols. You can simply type Latin symbols by holding 
    Alternate Switch. Created by Denis V. Dmitrienko
   (denis@elit.chernigov.ua). 
  </item>
  <item>
    Ukrainian (UW) - Ukrainian symbols in cp1251 (windows) charset, used 
    Latin symbols as alternate symbols. You can simply type Latin symbols 
    by holding Alternate Switch. Created by Denis V. Dmitrienko 
    (denis@elit.chernigov.ua). 
  </item>
  <item>
    English (En) - default XWindow symbols in latin1 charset. 
   </item>
  </itemize>

  If keyboard for you language is missing see section Creating new 
  National Keyboard.

<sect>Personal Configuration<p>

  Personal configuration include all you runtime settings for KiKbd. You 
  should use kcmikbd program to create and modify you personal configuration. 
  Then you start KiKbd or kcmikbd for the first time it will copy system 
  default configuration to you personal.

  <p><img SRC=general.gif>

  <sect1>Keyboards<p>

    Using <it>Add</it> and <it>Delete</it> buttons you can create you favorite
    list of national keyboards. The top keyboard (En as on the picture) 
    become default keyboard when you start KiKbd.

  </sect1>
  <sect1>Switch and Alt Switch<p>

    For switching between keyboards you can use this two key combination
    (by holding Right Control and Right Shift at the same time as on the 
    picture). You can type alternate symbols from current national keyboard 
    if any by holding them with this Alt Switch (Right Alt as on the picture).

  </sect1>
  <sect1>Beep<p>

    You can listen beep when ever keyboard changed.

  </sect1>
  <sect1>Advanced Options<p>

    <img SRC=advanced.gif></img>
    <sect2>World Menu</sect2>

      You can have popup menu in any active window by pressing Switch 
      keys for
      a long time (hold Right Control and Right Shift as on the picture 
      and wait
      for popup menu).

    </sect2>
    <sect2>Emulate CapsLock</sect2>

      For some keyboards (for example Russian) there is some problems with
      default Xserver CapsLock behavior. You can use <B>KiKbd</B> emulated 
      CapsLock to fix this problem. With CapsLock emulated you can control 
      Caps state by the color of the <B>KiKbd</B> button instead of the 
      keyboard Led.

    </sect2>
    <sect2>Input</sect2>
 
      You can select one of the:

      <itemize>
      <item>
        Global - "standard" behavior, your keyboard applies to all windows.
      </item>
      <item>
        Window - "extended" behavior, each toplevel window remember it's own
        keyboard
      </item>
      <item>
        Class - "special" behavior", each window manager class remember 
        it's own keyboard. For example, if you switch to Russian in one 
        of the Kedit, you will get Russian in any other Kedit automatically.
      </item>
      </itemize>

    </sect2>
    <sect2>Save Classes</sect2>

      If you select Input for Classes you can save the keyboard to WM Class
      association on the end of the each KDE Session and restore it at the
      beginning of the KDE Session. For example, if you leave Russian keyboard
      in the Kedit window today, you will get it automatically when you login
      tomorrow.

    </sect2>

  </sect1>
  <sect1>Style</sect1>

    You can customize KiKbd button Font and all of the four colors:
    <img SRC=style.gif></img>

    <itemize>
      <item>
        Foreground Color - Color of the Label Text
      </item>
      <item>
        Background Color when CapsLock emulation used and current 
        Caps state is On.
      </item>
      <item>
         Background Color while Alt Switch pressed.
      </item>
    </itemize>

  </sect1>

</sect>


<sect>Invocation<p>

  <img SRC=startup.gif>
  <itemize>
  <item>
    Autostart - KiKbd will started automatically at the beginning of 
    KDE session
  </item>
  <item>
    Docked - started KiKbd will be docked into kpanel
  </item>
  <item>
    Place - if you don't like docking, you can choose one of 
    the four corners of your display
  </item>
  </itemize>

</sect>

<sect>Creating new National Keyboard<p>

  All system keyboard files stores in $KDEDIR/share/apps/kikbd and personal
  in $HOME/.kde/share/apps/kikbd. Each keyboard has two, three or four symbols
  per physical keyboard key (see section <it>National Keyboard</it>).
  Distributions include Tcl program which can help you create new 
  keyboard. The name of this program is mkmap. You can find it in the 
  folder of system keyboard files. Creating of national keyboard 
  consists of two steps.
  <enum>
  <item>
    Creating template:
    <verb>
       % mkmap
       Keyboard Label [Us]:
       Keyboard Comment [English American Keyboard]:
       Long Comment [Keyboard for using in USA]:
       Locale [us]:
    </verb>
    You should answer on some questions. <it>Keyboard Label</it> - 
    is the label
    showed inside KiKbd button. <it>Keyboard Comment</it> - short keyboard
    description, showed in KiKbd popup menu. <it>Long Comment</it> - long
    keyboard description, showed in KcmiKbd. <it>Locale</it> - locale
    for this keyboard, usually in small case and equal to 
    <it>Keyboard Label</it>. On success you will get template file in 
    the current directory with extension .kimap.
  </item>
  <item>
    Adding keyboard map from xmodmap:
    <verb>
      % mkmap map &lt;template file> &lt;xmodmap file>
      Which columns in xmodmap? [3,4]
    </verb>
    You have to specify columns in xmodmap file to be used. Numbers 1,2,3,4
    are valid, type them separated by comma. Xmodmap file can be created by
    the command:
    <verb>
     % xmodmap -pke > &lt;xmodmap.file>
    </verb>
    If you create keyboard for you favorite language please send it to me and
    i include it in the next release. Don't use more then 3 symbols 
    for keyboard
    label - this has bad look inside kpanel.
  </item>
  </enum>
</sect>

<sect>Bugs<p>

  <itemize>
  <item>
    Some times when you did Apply from configuration program with 
    running kikbd, it locks up and you have to kill it.
  </item>
  <item>
    Incorrectly hangling X11 events. From some windows it does not 
    receive events
  </item>
  <item>
    You can have problem with screen lockers, but with KDE screensavers
    everything must be Ok.
    <verb>
     % kikbd -display &lt;your locked display> -rotate
    </verb>
    This rotate keyboards in the usual kikbd way and you can unlock
    you display
    </item>
  </itemize>
  Please report bugs at <htmlurl url="http://buglist.kde.org" 
	name="http://buglist.kde.org">
</sect>

<sect>Author<p>

International Keyboard is written by 
<htmlurl url="mailto:budnik@linserv.jinr.ru" 
	name="Alexander Budnik">
<p>
</sect>

</article>
