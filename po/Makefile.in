
# This has to be set. The rest should be reusable
DE_POFILES = de_kfind.po  de_kdehelp.po  de_kdisplay.po  de_kvt.po
DE_GMFILES = de_kfind.gmo de_kdehelp.gmo de_kdisplay.gmo de_kvt.gmo

CZ_POFILES = cz_kfind.po
CZ_GMFILES = cz_kfind.gmo

ES_POFILES = es_kfind.po  es_kdehelp.po  es_kdisplay.po  es_kvt.po
ES_GMFILES = es_kfind.gmo es_kdehelp.gmo es_kdisplay.gmo es_kvt.gmo

SV_POFILES = sv_kfind.po  sv_kdehelp.po  sv_kdisplay.po  sv_kvt.po
SV_GMFILES = sv_kfind.gmo sv_kdehelp.gmo sv_kdisplay.gmo sv_kvt.gmo

POFILES = $(DE_POFILES) $(CZ_POFILES) $(ES_POFILES) $(SV_POFILES)
GMOFILES= $(DE_GMFILES) $(CZ_GMFILES) $(ES_GMFILES) $(SV_GMFILES)

# more general options
srcdir = @srcdir@
top_srcdir = @top_srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
localedir = $(prefix)/locale

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
MKINSTALLDIRS = $(SHELL) $(top_srcdir)/mkinstalldirs
SHELL = /bin/sh

GMSGFMT = @GMSGFMT@
MSGFMT = @MSGFMT@
XGETTEXT = @XGETTEXT@
DISTFILES = Makefile.in $(POFILES) $(GMOFILES)

# files:

default: all

all: all-@USE_NLS@
install: install-@USE_NLS@

Makefile: Makefile.in
	cd .. && \
	CONFIG_FILES=po/$@ CONFIG_HEADERS= $(SHELL) ./config.status

.SUFFIXES: .po .gmo

.po.mo:
	$(MSGFMT) -o $@ $<

.po.gmo:
	file=$(srcdir)/`echo $* | sed 's,.*/,,'`.gmo \
	&& rm -f $$file && $(GMSGFMT) -o $$file $< 

all-yes: $(GMOFILES)
all-no:

install-yes: all
	@catalogs='$(GMOFILES)'; \
	for cat in $$catalogs; do \
	destdir=$(localedir); \
	lang=`echo $$cat | sed 's/_.*$$//'`; \
	name=`echo $$cat | sed -e 's/^.._//' | sed -e 's/\.gmo/\.mo/'` \
	dir=$$destdir/$$lang/LC_MESSAGES; \
	$(MKINSTALLDIRS) $$dir; \
	$(INSTALL_DATA) $$cat $$dir/$$name; \
	  echo "installing $$cat as $$dir/$$name"; \
	done

install-no:

distclean:
	rm -f *~ Makefile

clean:
