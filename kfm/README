Alpha Version 1.23

PREVIEW VERSION
===============

This version is NOT FOR USERS. It is for developers only.
You may try to run it, but dont expect the KFM TEAM or me
to answer bugs reports, suggestions or whatever until this is
released for the public. We dont want to be offending, but
500 people running a developers release results in 500 senseless
bug reports filling the developers mail box.

So please be patient!

Thank you very much
the KFM Developers

-------------------- ATTENTION ---------------- LATEST NEWS --------------------

KFM wants to have mini icons in $KDEDIR/share/icons/mini
Every big icon MUST have a small icon of the same name!!

-------------------- ATTENTION ---------------- OLD NEWS :-)  ------------------
Security fix for KFM. Dont forget to change the password in ~/.kfm/magic and
make shure that nobody else is allowed to read/write this file. Restart
the KDE environment after changing the password.

KFM is going to be the first freeware FRAME able browser. Or is there
one already out there?

-------------------------------------------------------------------------------

KDE Filemanager
===============

Features
--------

- Supports drag and drop.
- You can place icons on the desktop. Their position is stored. So when you
  start the filemanager the next time, all icons on the desktop will appear on
  the same position again.
- Double clicking with the left mouse button on a directory changes to
  the directory.
- Double clicking with the middle mouse button on a directory changes to
  the dirctory, but opens a new window.
- Right mouse button brings up a popup menu.
- You can assign some programs to every file extension. Doing so
  will place an item for every assigned program to the popup menu.
- Double clicking on a tar or tgz or tar.gz file will change
  in the tar file. Hust try it. You can even drag files out of the
  archive ( well, this may have some bugs).

Competitors
-----------

Netscape and MS IE 4.0 :-)

TODO
----

Lots of work...

- better FTP support ( delete, chown, proxy ).
- passwords for HTTP
- Fixing bugs.


Needed Packages
---------------

khtmlw-0.7.9.tgz or greater
ktoolicons.tgz
kdehelp-0.4 or greater
libkde
kfind-0.3.0.tgz or greater
Qt-1.2 or greater

Installation
------------
Just untar the sources and type the following:

./configure
make
make install

( this is done best at root, but it is not a must ).

I hope that I did not forget to include a file in the distribution.

FTP
---

You can now browse ftp servers. But it has many bugs. It just works with simple
servers like your local ftp server. A link to an ftp server is placed in the demo
file 'ftp.kdelnk'. Edit it to your needs and copy it to ~/Desktop. Whenever you
link a ftp file/directory to the local file system such a *.kdelnk file is
generated.

HTTP
----

I tried a little on this. Try it out with some easy HTML code.

Changes
-------

- This version has improved speed. It may have some new bugs since I had to change
  a lot in the HTMLWidget.

- Support for KSocket and KServerSocket is implemented. Look at ksock.cpp.

- DND bug fixed. Works now with AfterStep, too.

Verison 0.2a

- Faster HTML Widget

Version 0.32a

- Support for mounting filesystems.

- Fixed bug with root widgets.

Version 0.33a

- Basic FTP support.

Version 0.35a

- Lars maintaines the ftp part

- Fixed broken URLs using KURL ( and fixed this :-)

- Basic HTTP support

- Reads file .kde.html if found in a directory ( some extra tags )
  View the source directory of kfm with kfm to see what this means.

- Find Tool

- Mounts devices named in /etc/fstab
  Just enter 'default' as filetype and mounting will result in a call to
  for example "mount /dev/scd0". The corresponding lines in /etc/fstab might
  look like this:

    /dev/scd0       /cd                       iso9660         user,noauto,exec,ro 0 0
    /dev/fd0        /floppy                   msdos           user,noauto 0 0

- Many new options not worth mentioning here in detail.

- An "Location" Dialog like the one from Netscape to open an URL. This URL may
  be a normal file name, too, like /home/weis/test.html.

Version 0.36a

- Using libkdecore.
  You must first move kurl.cpp and kurl.h to the libkde source tree and recompile
  the library ( version 0.4 ) to fix some bugs there.
  Copy .kderc in your home directory for example. I think that the contents of
  this file is explaining itself. You can edit bindings and any kind of icons
  there. No need to change PICS_PATH in the sources any more. You must change
  the path in your .kderc file now. DONT FORGET!

Version 0.37a

- Using libkde-0.51

Version 0.38a

- Bookmarks ( Taken from Martin Jones Help System )

- Toolbar

Version 0.39a

- kfmwin.cpp and root.cpp have been restructured

- Root icons work like icons in a kfm window.

- Double clicking on icons will start the program

- Dragging files over an executable will start the program with
  the filenames or URLs as argument

- Dragging files over an folder will copy/move/link files in that
  folder.

- Extensions in .kderc may be bound to the beginning or end of a filename
  ^README will match all README files
  .html^ will match all HTML files
  xv will only match file named xv

- Applications may have icons
  You can define an icon for every application. This means an icon for
  the binary. It does not matter where the binary is placed.
  You must write for example

   [XV]
   Exec=/usr/bin/X11/xv %f
   Protocols=file;
   Extensions=Images;
   Icon=image.xpm
   Pattern=xv

- Templates
  Edit the directory for your templates in .kderc. You can store for example a
  default 'Makefile' or 'physics.lyx' or 'qt.cpp' or a complete directory there.
  You are offered to create a copy of these defaults in the actual directory
  when you choose "New" from the menu "File".
  If you put a directory in the templates dir, the whole directory is recursivly
  copied to the new location. You will be prompted for a new name.

Version 0.41a

- *.kdelnk files changes. They use the kpanel format now (KConfig!)

- Added support for kpanel like "[KDE Desktop Entry]" files.

	[KDE Desktop Entry]
	Exec=/usr/bin/X11/gimp %f
	Icon=draw.xpm
	TerminalOptions=
	Path=
	Terminal=0

- Addes IPC and client. In the subdirectory 'client' is a program which can be
  used to force kfm to do something. It may be used by kpanel for example
  to force KFM to open an URL or something like that. Start the program with
  no parameters to get help. The IPC was created using an IPC Compiler written
  by me. It is not public available now.

  You must type make in the subdirectory 'client' to create the program.

- Fixed millions of bugs and created new ones.

- Fixed support for *.kdelnk files of type LINK.
  A file looking like this

	[KDE Desktop Entry]
	URL=info:(cvs)
	Icon=draw.xpm
	Type=Link

  is a link into the net. In this case we have a link into the help system.
  A entry in .kderc like this

	[KInfoSystem]
	Protocols=info;man;
	Exec=/usr/local/bin/kdehelp "%u"
	Extensions=ALL;

  causes the kde-help-system to be used for displaying ALL files with a given
  protocoll. The Extension all must not be specified. It matches in this case
  all URLs with protocol info or man.

- You must insert this ( or something like that ) in your .kderc file.

	[Terminal]
	Terminal=/usr/X11/bin/kvt

  This is used to start terminal applications like pine from KFM.

- Preferences Dialog. Hitting the right mouse button and selecting the Properties 
  Menu will show you the dialog.
  *.kdelnk files of type LINK or the kpanel like files cause the properties
  dialog to insert a special page. It was never so easy edit a [KDE Desktop Entry]
  file.

- Addes DND root protocol. Other applications can make root drops and KFM
  will catch them. Wait for the next release of libkde to use this feature.

- KFM will work best in conjunction with kpanel in the future. For example it is
  a good idea to insert a call to
  
	/usr/local/bin/kfmclient refreshDesktop
  and
	/usr/local/bin/kfmclient openURL

  in the kpanel to work best with KFM.

  Matthias, use './kfmclient openURL /home/weis/Desktop/Trash' for example to open
  the trash directory.

Version 0.42a

- Find shows "No Match" if it found nothing.

- Seg. Fault. in properties dlg removed.

- Added 'openProperties' to IPC for kpanel. For example run kfm and call

	/usr/local/bin/kfmclient openProperties file:/root/2.jpg

  to open a properties dialog for this URL.

Version 0.5

- Supports '.directory' files used by kpanel. A sample .directory file may look like

	[KDE Desktop Entry]
	icon=draw.xpm

  All icons mentioned here must reside in the icon directory you mentioned in your
  .kderc file.
  In General you can find information about an directory in a .directory file. It is
  a simple KConfig file. You may add additional entries to those files.

- Uses new HTML Widget

Version 0.51

- Bugs fixed

- Exec stuff for KPanel. See kfmclient for information

- New installation procedure. Read the HTML docu for details

- Uses ktoolicons

- Works with .kfmrc instead of .kderc, too.

- Uses kdehelp

Version 0.54

- Is able to browse the WEB. But this is really pre alpha. Try it.

- kfmclient supports what Matthias wants to: kfmclient ask 100 100 url1 url2 dest

- applied Matthias patch and patched it since it crashed kfm pretty good :-)

- uses khtmlw-0.4.8 and libkde-0.6.3

- Root icons may be moved by few pixels now. Dropping an icon on itself does
  not harm any more.

- Installed little dnd print support ( still need printer icons ).

- Uses free icons ( I created some new ones but most of them are from Mark ).

- Lots of bug fixes and new bugs

- Deleting of non empty directories should work now. 

- Every Directory has a special properties page. There you can select
  its icon and its wallpaper. A set of free wallpapers is available.
  All Wallpapers install in $KDEDIR/lib/wallpapers

Version 0.55

- This version has a special way of dealinng with application and filetype bindings.
  Example application bindnigs are in $KDEDIR/apps/kfm. Every application has its own
  file with its own bindings. This means that deleting the applications *.kdelnk
  file will delete its bindings.

- Bindings to filetypes have some files in $KDEDIR/filetypes. Every file type has
  its own *.kdelnk file. Have a look at the installed applications.

- KFM has a statusbar right now. It tells you about the file you are currently
  pointing on and some information about the kind of file ( if available ).  

Version 0.56

- Browsing the Web and FTP sites does not popup many windows

- The toolbar has Office 97 look and feel

- Autostart folder is supported now. See docu for details

- extended documentation

- FTP supports passwords in URL like ftp://weis:secret@nowhere.com/

- The filebindigs use now simple wildcards as pattern like *.txt and README*.

- KFM does not open any window on startup.

Version 0.5.7

- Small icons in "Long View"

- Patch for KPanel included

- Makefile modified

Version 0.5.8

- Compiles with libkde-0.7.0

Version 0.5.9

- Bug fixes:
	- Selecting a directory and clicking on "New View"
	- "New->SomeFile" shows the new file in the window
	- "Long View" does not seg fault when doing FTP

- "Text View" works with FTP, too.

- "Text View" looks like "Long View", but no images are shown.

- Properties dialog for Applicatin-Bindings and File-Types.

- Runs only with libkde-0.7.1 or later

- You can copy/move/link files to the desktop

Version 0.6.1

- Tree Widget included

- Visual Schnauzer works ( can read/write xvpics ). It is XV compatible of course.

- File->Quit brings up a security dialog

- Copying(Moving a file to a place where a file of this name already exists, causes
  a dialog aking to for Overwrite/Overwrite All/Skip/Rename/Cancel.

- ~/Desktop/Trash has Trash-Icon by default

- Set of Filetype/Application bindings included. Most of them are taken from the
  kfind distribution. They are somewhat modified, so dont overwrite them with the
  kfind ones ( happens when installing kfind ). The Image.kdelnk does not
  exist anymore.

- Put the application KPanel->KFM->Refresh Desktop on the KPanel. Klicking on it
  refreshes the desktop icons and scans for new files on the desktop.

Version 0.6.2

- Works with Qt-1.2

- When changing filetype or application properties, the file manager is updated.
  No restart has to be done. If you changed the filetypes/apps outside KFM you
  may invoke "View->Rescan Binding" to update the file manager.

- Basic support for URLs with passwords. For example ftp://weis:localhost will
  work now, but it is still buggy.

- Stephan added a configure script

- kioslaves should die after kfm died. Please report any exception!!!

Version 0.6.3

- Changes in the makefile and the distribution

Version 0.6.4

- Fixed the bug with kfmslave ( now Matthias is perhaps a little bit less
  disappointed :-)

- Deleted kfmfind. Using kfind instead

- Changed some Makefile stuff

- Install only apps that kfm really needs ( GnuZIP etc. ). No KEdit and so on!

- No more setupKFM. All done on startup if the files are not available

- Config file placed in ~/.kde/config/.kfmrc

Version 0.6.5

- New Root Icons are placed at a "nice location", not on the upper left corner
  of the screen

- kfmclient understands the command "sortDesktop". It arranges all icons on
  the desktop on a virtual grid. It can handle icons of any size.

- New app in $KDEDIR/apps/KFM. It is called "Arrange Icons" and just calls
  "kfmclient sortDesktop".

- Bugs in TAR mode fixed. TAR mode supports "long view" and "text view".

- "Open With" implemented ( thanks for the patch )

- Patch for ftp sites which dont want a password ( thanks for the patch, too )

- Icons appear under all existing windows.

- Included patch for drag.cpp in libkdecore. This works around a
  bug ( in kwm? ). When I delete the dndIcon and call XQueryTree, then
  I get BAD WINDOW errors. So I just moved the icon to -200, -200, called
  XQueryTree, checked not to send the icon a message and deleted the
  icon afterwards. The file contains lots of debug code. Please test it
  and tell me wether it works ok for you!

Version 0.6.6

- Applied patches from Matthias

- Fixed bug with .kfmrc

Version 0.7.4

- Needs the frame based HTML Widget version 0.7

- Knows CGI ( on local hard disk: file:/cgi-bin/helpindex for example )
  Code derived from KDE Help System

- Applied tons of patches.

- You may select files by drawing a rectangle ( like Win95 )

- No double clicks ( only for root icons, but that is going to change, too ).

- Known bugs:
   - filetypes dont work any more, mimetypes dont work right now.
   - Starting of programs may be broken.
   - No DND.
   - Cut/Copy/Paste may not work.
   - Selection files by pattern does not work.
   - Many others
  The use of frames was more complicated then I thought. But I think
  it is worth the effort.

Version 0.7.6

- DND works now ( but not tested too much )

- Applied Matthias "caption" patch

- Applied patch for "pipes, devices etc."

- Fixed tons of bugs

- Still crashes when trying to paste using the toolbar.

- Menu "View" rearranged.

- When moving the panner the menu gets updated ( View->Show Tree ).

- Fixed bug in HTTP. Pages should appear now.

- TreeView does not have a popup menu right now.

Version 0.7.7

- MIME Types work
  See the directory ./kfm-0.7.7/kfm/mimetypes and ./kfm-0.7.7/kfm/apps for
  examples. The filetypes directory is no longer needed.

- Changed dialogs for supporting mime types.

- Bug in DND fixed

- Bug in selectin items with the mouse fixed

- Tons of other bugs fixed

- Context menus should work now

- HTTP support fixed. You can browse the web again now.

- Color of the icon text background is configureable now in kfmrc.
  You may even turn the spaing on/off.

Version 0.7.8

- No black frames any more

- Loading of background pixmaps over the net works now

- Status bar changed. Statusbar displays progress information.

- Status bar has a animated icon that shows its animation until the page is
  loaded.

- Deleting links on directories works now

- Recursive directory copying works

- The tag "AllowDefault=0" in *.kdelnk files of "Type=Application" is
  recognized now ( example: GnuZIP, klicking on a file of unknown type
  does no longor cause GnuZIP to start )

- The patches directory contains patches for kdecore and kdeui.

Version 0.7.9

- New logo. Logo works better now

- Uses progressive updating in FILE/HTTP/FTP

- Bugs fixed

- Disabled all files containing '#' or ':' or '@' since they break URLs

- Applied cool patch that breaks too long file names.

- Fixed HTTP support

- Uses new kioslave-Beta from Stefan

- ".." is now always the first icon/line

- Fixed selecting with rectangle. Works now with scrolled widget, too.

Version 0.8.0

- Works with the JavaScipt enabled HTML widget

- Can delete links to directories

- Copy commands care about the permission bits

- Possible to move files to trash instead of deleting them

- Warning dialog before deleting files

- Bug in "Open With" fixed, available for FTP and HTTP now, too.

- Makefile problem in kioslave fixed. Just moved all files from ./protocols/*
  to the upper directory.

- Using fork for process creation. Installed signal handler to avoid zombies.
  ( Please test with BSD, since BSD is somewhat different here )

- If the user forgets to mention for example "%f" after the name of an executable,
  KFM assumes that '%f' is a good choice ( Properties dialog of TYPE=Application )

- Added little utility "kfmwarn". It is called if one of the "exec" functions
  did not succeed. Unfortunately it is impossible to call QMessageBox there.
  kfmwarn takes one command line argument and uses it as text of the message.
  Now KFM can tell you wether it was possible to start some application or not.

- You need to apply the patches in the patches directory to libkdecore and
  libkdeui. The patches are created against kdelibs-970619.tgz

- The icon of the trash bin changes if something is in it or if it became empty
  I added 2 new trash bin icons taken from my suse distribution.

- The trash bin has a special popup menu now allowing you only to empty the
  trash, open it etc. But you can no longer rename, copy, delete it.

- Dropping files over the trash bin causes them to move in the bin without any
  further popup dialog.

- Included new properties dialog for devices. Now you can edit your *.kdelnk
  TYPE=FSDevice with a nice GUI.

- An unbelievable amount of other little bug fixes

- The "Open Location" and "Open With" dialog boxes have a command completion
  mode. Pressing Ctrl-s completes the filename as long as possible and
  pressing of Ctrl-d multiples times without releasing the Ctrl-Button cycles
  thru all possibilities. ( Perhaps this widget will move into libkdeui
  sometimes ).

- Applied some patches to free memory and close file descriptors

- Applied Martins "Print" patch

Version 0.8.1

- Security! KFM has a password file in ~/.kfm/magic. As long as nobody can
  guess your password and as long as nobody can read the files in your
  home directory ( which should never be the case ) you KFM is secure now.
  It wont say anything if someone tries to invoke actions without
  authorization. If an attempt to authorize fails, KFM will print a warning
  on the screen. You should not forget to replace the machine generated
  password in ~/.kfm/magic by another one.
  This is not the final solution but I think for a quick fix it is very good.

- Applied patch to fix problems with DEC Alpha ( Uwe )

- Applied several patches ( not all I received, sorry )

- "!|() should work now in filenames ( as names for root icons, too )

- Loading a HTML page in KFM and pressing the reload button works now.

Version 0.8.2

- Stephan did a lot but was not so kind to let us know :-)
   Stephan did: - added internationalization 

                - moved the paths for desktop entries to a central class and
                  make this configurable
                     
                - added first try for loading and saving GUI settings

- Fixed bug with "New View" in popup menu. Should work now.

- kfmlib has a function that lets KWM select root icons. KFM itself
  has functions for selecting root icons. Pressing Ctrl and using the
  left mouse button marks multiple icons.

Version 1.23

- .kde.html files work again with their special tags.
- Bug in recursive move fixed.
- locked folders have locked icon again.
- Better/more error messages
- Does not crash if mime types are missing.
- Calling kmail for "href=mailto"

version 1.24
- Complete rewrite of kbind.cpp

Version 1.25

- Rewrite of pixmap stuff in kbind.cpp
- Support for mini icons in kbind.cpp
  KFM expects the mini icons in $KDEDIR/share/icons/mini
  The mini icons must have the same name as their big brothers!!
  And the mini icons must exist. Downscaling is too slow. Please
  supply mini icon for every usual icon!!!

- Complete rewrite of dir tree
  - Supports drops
  - Supports popup menus
  - Becomes updates automagically
- Minor bug fixes
- DnD of root icons works again
- DnD of multiple root icons

Translation
-----------

Representatives for the translations:

German:
 Claudia Sorg
 csorg@stud.uni-frankfurt.de

KNOWN BUGS
----------

- Files with '#' in their names are ignored at most places since
  they could cause KFM to crash. Stephan invested some work here, but
  did not let us know what he did.
    Stephan: the problem is the URL decoding and encoding. It is necessary to
        rewrite parts of kfm and kfmlib to handle URLs better. But this would 
        also mean, that most applications, that uses kfmlib has to reflect this
        changes.

- Use "Move to Trash" instead of "delete" until the delete function is very
  well tested on some systems.

- Dont use JavaScript, it is the best method to crash KFM

- View a document with Frames at your own risk :-) KFM could display fancy
  things but usually it does not crash.

- The KDE Drag&Drop may be buggy. A new protocol for Qt, GTK, JX and others is
  being discussed and implemented by the Trolls. So our DnD protocol will be
  obsolete soon. Whenever KFM segfaults with "Bad Window Error" th bug is
  propably related to some DnD problem.

- Mounting of CDROMs with no CDROM in the drive does not cause some warning to
  appear.

- Attention when copying/deleting/moving links ( especially links to directories ).
  I fixed many bugs here, but it still needs testing

- The tar protocol sometimes display file names that include parts of the
  files creation date.

- The protocols "tar", "http" and "ftp" are still considered experimental => not stable

- The documentation is somewhat outdated.

- The icon for an empty trash bin has to be called 'kfm_trash.xpm' and the one
  for a full trash bin has to be named 'kfm_fulltrash.xpm'. This is not
  configureable right now.

- Some pixmaps in $KDEDIR/lib/pics/share are missing.

- Desktop icons dont use double clicks any more

- Root Icons may not have a ";" in their name

- References like <a href="#ref"> dont work right now

- HTML Widget introduced new bug. Dnd for RootIcons works now, but Dnd from
  KFM windows lets KFM dump core.
  
Authors
-------

The KFM Team

Torben Weis <weis@stud.uni-frankfurt.de>

KHTML Widget was extended by
Josip A. Gracin <grac@fly.cc.fer.hr>
and
Martin Jones <mjones@powerup.com.au>, <mjones@kde.org>
The KHTML Widget is now maintained by Martin.

Bookmarks are from Martin Jones, too.

Fritz Elfert <fritz@kde.org> added magic mime type detection.

Stephan Kulow <coolo@kde.org> applied lots of patches.

Stefan Westerfeld <stefan@space.twc.de> wrote most of kioslave!

And thanks to all the others who contributed.

Torben Weis, weis@stud.uni-frankfurt.de, weis@kde.org
http://www.kde.org
Last change: 14.9.97

