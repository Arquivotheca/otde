1998-07-15  David Faure  <David.Faure@insa-lyon.fr> (0.7.0)

	* ktalkd/machines/talkconn.cpp (set_edit_chars): At least ! Fixed the bug in 
	   answmach banners, which first appeared 8 months ago, erasing half of some lines !

	* ktalkd/table.c, ktalkd/print.c: Improved logs.

	* ktalkd/process.c (do_announce): Bug fixed : insert_table called even for NEU.

	* machines/*: Converted the answering machine to C++. Split into 3 classes.
	     TalkConnection : Handles the protocol.
	     TalkMachine : Generic talk machine.
	     AnswMachine : Answering machine. Inherits from TalkMachine and uses TalkConnection.

1998-07-08  David Faure  <David.Faure@insa-lyon.fr> (0.6.2)

	* ktalkd/*, ktalkdlg.cpp: Applied patch for NEUBehaviour=1 
	by Enrico Scholz <enrico.scholz@wirtschaft.tu-chemnitz.de> 

	* answmach/init_disp.c: Handle VWERASE if not defined (for AIX)
	
1998-07-06  David Faure  <David.Faure@insa-lyon.fr>

	* ktalkd/announce.c: Small bug fix in text announcement (remotename).

1998-06-15  David Faure  <David.Faure@insa-lyon.fr>
	
	* ktalkd/find_user.c: Added blank after display, needed by announce.c
	
	* kcmktalkd/answmachpage.cpp: Override help() to display ktalkd's help.

1998-06-13  David Faure  <David.Faure@insa-lyon.fr> (0.6.1)

	* includ.h, talkd.h: took talkd.h from ktalk. ktalkd doesn't use the
	                        system one anymore.

	* answmach/look_up.c: use sockaddr instead of osockaddr

	* acincktalk.m4, configure.in.1: removed the check for osockaddr

	* ktalkd/talkd.c: Use sys/params.h where available, for hostname length

1998-06-11  David Faure  <David.Faure@insa-lyon.fr> (0.6.0)

	* ktalkd/: Reorganised the directory structure, to ship ktalkd 
	with ktalkdlg and kcmktalkd in a single package.
	
	* talkd.c: Caller's hostname was limited to 32 ! Now 256.

	* Makefile.am: rewrote some of them, for non-KDE users.

1998-06-09  David Faure  <David.Faure@insa-lyon.fr> (0.5.7)

	* kcmktalkd: First release of the configuration dialog
	
1998-05-16  David Faure  <David.Faure@insa-lyon.fr> (0.5.6)

	* announce.c: Announces with ktalkdlg on ALL displays where the
           user is found. It works ! 

	* readcfg++.cpp (init_user_config):
	   Added setenv("HOME",...) because the kdelibs rely on that to find 
	   the user config file.

1998-05-15  David Faure  <David.Faure@insa-lyon.fr> (0.5.5)

	* doc/: Made HTML documentation. Phew. Done.

	* readcfg++.cpp (init_user_config):
	   Removed the un-necessary looking in pwd file. 
           KDElibs do that for us :)

	* find_user.c:
	   Disabled X processes scanning if uid < 10. (Security hole)
	   Corrected a bug (S_ISCHR() is now "& 020") which didn't let you talk
	   to tty2 if tty1 was "mesg n".

	* announce.c: open user config file before calling announce_proc, so 
	   that it *is* closed now. It wasn't because of 'return'.
	

1998-05-06  David Faure  <David.Faure@insa-lyon.fr>

	* announce.c: now the non-KDE sound works with and without option.
	* acinclude.m4.in - the ktalkd one : some more corrections for 
                                             working without X.

1998-04-28  David Faure  <David.Faure@insa-lyon.fr> (0.5.4)

	* acinclude.m4.in - the one from ktalkd package, not the kdenonbeta one
	   rewrote X detection, so that it works also without X :)

1998-04-20  David Faure  <David.Faure@insa-lyon.fr> (0.5.3)
	
	* Makefile.am: Removed -lkdeui, not needed.
	* io.c: Corrected an awful bug 
                      (NEUBanner displayed instead of OPTinvitelines)
	* readcfg++.cpp: Added missing "/" before 'ktalkdrc'

1998-04-19  David Faure  <David.Faure@insa-lyon.fr> (0.5.2)

	* readcfg++.cpp: added check for user config file.
 	        (was created with root permission otherwise)
	* acinclude.m4.in - the ktalkd one: updated

1998-04-15  David Faure  <David.Faure@insa-lyon.fr> (0.5.1)

	ktalkd doesn't use anymore kdedir() because it's protected.
	It sets now $KDEBINDIR, for portable ktalkdrc files. KDEBINDIR 
	is determined by a call to the kde_bindir() function.
	Makefile doesn't define TALKD_CONF anymore for compilation :
	ktalkd now opens ktalkdrc from KApplication::kde_configdir().

0.5.0	(26.03.98) David Faure  <David.Faure@insa-lyon.fr>
	ktalkdrc: Extprg is now $KDEDIR/bin/ktalkdlg.
	KDEDIR is now set when reading global configuration file.
	Default value for Extprg includes $KDEDIR.

0.4.8	(25.03.98) David Faure  <David.Faure@insa-lyon.fr>
	KDEDIR is now set by ktalkd, not by ktalkdlg.
	ktalkdrc*:removed path in front of sound files. ktalkdlg now finds them
	 in kde_sounddir().
	Added option ExtPrg. Set to ktalkdlg (default) or ktalk.

0.4.7	(14.03.98) David Faure  <David.Faure@insa-lyon.fr>
	Made 2 packages out of ktalkd : ktalkd and ktalkdlg (new name for
	 atdlg), so that Burkhard Lehner <b_lehner@informatik.uni-kl.de>
	can improve it to communicate with ktalk.

0.4.6	(13.03.98) David Faure  <David.Faure@insa-lyon.fr>
	Changed S_MESSG size. (Too little for mail first line, if NEU)
	Used mkstemp instead of popen for the message left to the
	answering machine. Added option EmptyMail, to avoid getting
	empty mails.

0.4.5   (10.03.98) David Faure  <David.Faure@insa-lyon.fr>
	Renamed debug to debug_mode (debug exists in qt)
	Updated configure.in and acinclude.m4 to match CVS ones.
	Same for ltconfig, ltmain.sh, ...
	Added new translations (es, it) and changed po structure.
	Added NEUBanner* options to ktalkdrc.

0.4.4   (27.02.98) D.F. (thanks to Juraj Bednar <bednar@isternet.sk>)
        Removed ktalkd-0.4.x/protocols from the distribution. Caused a 
        bug when compiling.

0.4.3   (15.02.98) D.F. (thanks to B. Lehner<b_lehner@informatik.uni-kl.de>)
	added checks for paths.h and protocols/talkd.h (for Solaris)
	Added default paths (/dev/ and /var/run/utmp) if paths.h not found
	Included talkd.h in the distribution, for Solaris which doesn't have it
        Changed AC_CHECK_OSOCKADDR to use this file if protocols/talkd.h absent

0.4.2	(04.02.98) David Faure  <David.Faure@insa-lyon.fr>
	Added user option Answmach.
	Moved the daemon to $KDEDIR/bin. One must now change inetd.conf 
	(this way, rpms won't conflict with standard ones, and the old
	in.ntalkd will remain available). Should I deviate 'talk' protocol
	too (in addition to 'ntalk') ?
	Made installation NOT overwrite actual sitewide config file.
	Merged and updated READMEs.

0.4.1	(03.02.98) D.F.
	Added -rpath option, as it's necessary for ktalkd if $KDEDIR/lib is
	not set in ld.so.conf (LD_LIBRARY_PATH not read by a daemon)

0.4.0	(03.02.98) D.F.
	Corrected bugs related to new acinclude.m4 : compiling without X
	and without KDE is possible again.
	Added memcpy for structs.
	Made atdlg re-write ktalkdrc for user if necessary.
	
0.3.4	(29.01.98) D.F.
	Removed answinfo var., added return val to announce and process_request.
	Non existent user (NEU) support : either launch answmach or do nothing.
	(set it in systemwide ktalkdrc). Don't sleep() before answering if NEU
	or not logged.

0.3.3   (26.01.98) D.F.
	Deutsch translation added by J. Mertin <smurphy@stardust.phantasia.org>
	Enabled atdlg without sound, following option set.
	Removed nasty \r\n, not needed.
	Made banner arrive 16 chars at a time, not the whole at once !

0.3.2   (25.01.98) D.F.
	Changed default configuration : ktalkd.wav will be installed
	in $KDEDIR/share/apps/ktalkd.  ktalkdrc points to it.
	Made package install_root capable (e.g. for building rpms).

0.3.1   (25.01.98) D.F.
	atdlg will now play sound itself, using libmediatool.
	Typos and bugs corrected.

0.3.0   (24.01.98) still me ... :)
        Added internationalization to atdlg.cpp. Had to change atdlg params.
        User must set language in ktalkdrc.
	Added more user options to ktalkdrc_user: Sound, SoundPlayer, SoundFile.
	Updated configure.in and acinclude.m4 to stick to kdenetwork as much
	as possible.
        
0.2.5   (14.01.98) David Faure <David.Faure@insa-lyon.fr>
	Moved -DHAVE_KDE from config.h (was a bad hack) to Makefile.am
	Added AC_CHECK_GETDOMAINNAME and AC_CHECK_GETHOSTNAME...
	 and some other little changes to get closer to autoconf stuff from
	 kdenetwork, for future integration. Worked on BSD portability.

0.2.4   (12.01.98) David Faure  <David.Faure@insa-lyon.fr>
	Changed acinclude.m4, to remove NULL, and to make check for osockaddr
	work better under bsd... Also removed NULL from anywhere in the code.

0.2.3   (11.01.98) David Faure  <David.Faure@insa-lyon.fr>
	Added a macro in acinclude.m4, to check for sockaddr and osockaddr.

0.2.2   (11.01.98) David Faure  <David.Faure@insa-lyon.fr>
	Wrote a new way of finding users, in addition to reading utmp,
	which reads /proc to find $DISPLAY of processes. (Linux only).

0.2.1	(08.01.98) David Faure  <David.Faure@insa-lyon.fr>
	Removed MSG_EOR as it used in BSD with another meaning.

0.2.0	(19.12.97) David Faure  <David.Faure@insa-lyon.fr>
	Merged patch from Ralph Weichert (check for libbsd, needed under libc5)

0.1.9   (16.12.97) David Faure  <David.Faure@insa-lyon.fr>
	Fixed link command (back to $(LINK), not $(CXXLINK).
	Fixed process.c (config.h not included => NEW_FIND_USER not defined)
	Wrote includ.h to resolve struct definitions problems.
	Started user config file processing (~/.kde/share/config/ktalkdrc)

0.1.8   (13.12.97) David Faure  <David.Faure@insa-lyon.fr>
	Improved configure.in, acinclude.m4, and ktalkd/Makefile.am, to
	* find out where to install the daemon
	* compile even without X, Qt, and KDE
	* remove jpeg/gif dependencies

0.1.7	(12.12.97) David Faure  <David.Faure@insa-lyon.fr>
	Small bugs correction. 	

0.1.6   (08.12.97) David Faure and Ralph Weichert
	Added autoconf and automake support. Added support for glibc.
	Back to c compiling, except for .cpp files, of course.

0.1.5   (02.12.97) David Faure <David.Faure@insa-lyon.fr>
	Read KDE configuration file, $KDEDIR/share/config/ktalkdrc, both by
	atdlg and ktalkd, in readcfg++.cpp. Made all daemon compile with g++.
	(Is this right ?)

0.1.4   (23.11.97) David Faure <David.Faure@insa-lyon.fr>
	Re-wrote announcement by answering machine. One line at a time, not
	one char at a time.

0.1.3   (22.11.97) David Faure <David.Faure@insa-lyon.fr>
	Re-wrote process_etc_file, to read talkd.conf sequentially.

0.1.2c	(21.11.97) David Faure <David.Faure@insa-lyon.fr>
	Merged patch from <Ralph.Weichert@physik.th-darmstadt.de> :
         Used KDE libs in atdlg. User configurable talk client.
	Merged patch from Bruce Gingery <bruce@gtcs.com> :
	 User configurable To: E-Mail address
	

0.1.2b	(25.10.97) David Faure <David.Faure@insa-lyon.fr>
	Made atdlg finish after RING_WAIT seconds, so that the re-announce
	  will display another window (=> compatibility with other clients than
	  ktalk)

0.1.2   (22.10.97) David Faure <David.Faure@insa-lyon.fr>
	Added to ktalkd (see README for description):
	 * sound capability
	 * configuration (/etc/talkd.conf)
	 * answering machine 

0.1.1   (14.5.97) R.
        Improved (I hope) X11 recognition:
                Local XDM logins (depends on sessreg)
                Read $DISPLAY variable for PTY logins
        atdlg is run as user and can use MIT-magic-cookies
        atdlg will run talk program
