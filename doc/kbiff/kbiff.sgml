<!-- LinuxDoc file was created by LyX 0.12 (C) 1995-1998 by <granroth> Fri Oct 16 20:49:05 1998
 -->
<!-- Export filter v0.6 by Pascal Andre/Bernhard Iselborn-->

<!doctype linuxdoc system>

<article>

<title>The KBiff Handbook
<author>Kurt Granroth 
<htmlurl url="mailto:granroth@kde.org" name="&lt;granroth@kde.org&gt;">
<date>Version 1.1.5 Oct 16, 1998
<abstract>KBiff is a KDE aware mail notification utility. It supports MBOX (Unix
 style), Maildir (Qmail), POP3, and IMAP mailboxes.
<toc>
<sect>Introduction
<p>
<sect1>Features
<p>

KBiff is a mail notification utility for the KDE project. It has several
 advantages over much of its competition:
<itemize>
<item><bf>Pure GUI configuration</bf>. No more command line parameters to remember (well,
 one optional one to make things easier for some people) or strange config files.
 All settings for KBiff can be done from one setup dialog.
<item><bf>Session Management</bf>. KBiff starts up with the same configuration you left
 it with.
<item><bf>Panel Docking</bf>. KBiff can be docked into the panel very easily. Handy when
 you are monitoring several mailboxes and don't have room anywhere else.
<item><bf>Animated GIFs</bf>. You can use animated GIFs as your icons.
<item><bf>Sounds</bf>. Kbiff has an option to play .wav files when new mail arrives.
<item><bf>POP3, IMAP4, Maildir, MBOX</bf>. KBiff supports all major mailbox formats!
<item><bf>Multiple Mailbox</bf>. KBiff can monitor several mailboxes with one instance.
<item><bf>Others</bf>. KBiff has scads of other options.
</itemize>

If you have any comments or requests for more features, feel free to email.
 

Kurt Granroth


<htmlurl url="mailto:granroth@kde.org" name="&lt;granroth@kde.org&gt;">
<sect1>Planned Features
<p>

These are some of the features that I am either planning on adding or considering
 planning on adding. In no particular order:
<itemize>
<item>Put in some CORBA "hooks." Possibly implement a client/server model,
 too.
<item>Monitor NNTP newsgroups? I'm waiting until somebody requests this.
</itemize>
<sect>Installation
<p>
<sect1>How to obtain KBiff
<p>

The most current release version in both source and binary formats can
 always be found at the KBiff homepage. This is at 
<htmlurl url="http://www.pobox.com/&tilde;kurt_granroth/kbiff" name="http://www.pobox.com/&tilde;kurt_granroth/kbiff">
 KBiff is also now part of the KDE Networks package. As such, the bleeding edge
 release can always be found in the KDE CVS repository.
<sect1>Requirements
<p>

In order to successfully compile KBiff, you need at least the 1.0 version
 of KDE. All required libraries can be found on 
<htmlurl url="ftp://ftp.kde.org/pub/kde" name="ftp://ftp.kde.org/pub/kde">.
<sect1>Compilation and Installation
<p>

Compiling KBiff is very easy. The following should do it:
<code>&percnt; ./configure
</code>
<code>&percnt; make
</code>
<code>&percnt; make install
</code>

That should do it! Should you run into any problems, please report them
 to the <htmlurl url="mailto:granroth@kde.org" name="author">
<sect>Using KBiff
<p>

Almost every feature of KBiff can be configured from the Setup dialog.
 What few command line parameters KBiff has are mostly for convenience -- some
 options just make more sense on the command line.
<sect1>The "profile"
<p>

KBiff revolves around something called a "profile" A profile is simply
 a container for one or mailboxes that KBiff will monitor. For instance, there
 will always be one default profile called "Inbox" (or something else if you
 rename it). This profile will contain one mailbox, usually something like "/var/mail/username".
 It could just as well hold several mailboxes, though. Each instance of KBiff
 (that is, each visible icon) corresponds to one profile.
<sect1>Command Line Parameters
<p>

KBiff supports three command line parameters. They are: <bf>profile</bf>, <bf>debug</bf>,
 and <bf>secure</bf>.
<verb>-profile &lt;profile_name&gt; Bypass the Setup dialog and start KBiff directly
 in the 
                        given profile. e.g., 'kbiff -profile Inbox'
-debug                  Turns
 on verbose debugging. Use this only if you are
                        having
 problems with KBiff
-secure                 Disables the setup dialog. Usefull
 when you want KBiff
                        displayed but don't want others
 to modify it.
</verb>
<sect><label id="sec: setup dialog">The Setup Dialog
<p>
<sect>The Popup Menu
<p>

The popup menu is activated whenever the right mouse button is clicked
 in the KBiff icon area.
<sect1>(Un)Dock
<p>

This docks or undocks KBiff from the panel. This option will only work
 in KDE complient window managers like KWM. The default state is determined
 by the setup dialog.
<sect1>Setup
<p>

This will activate the setup dialog. See the 
<ref id="sec: setup dialog" name="Setup Dialog">section for more details.
<sect1>Help
<p>

This activates the online help (this).
<sect1>Check Mail Now
<p>

This forces KBiff to check for new mail right now, regardless of the poll
 time. This will check all mailboxes in a profile.
<sect1>Read Mail Now
<p>

This will force KBiff to act like all mailboxes in the current profile
 are "old." This makes most sense when you have new mail on a remote server
 (pop3 or imap4) and don't feel like downloading it right then.
<sect1>Stop/Start
<p>

This will either stop or start KBiff.
<sect>Questions, Answers, and Tips
<p>
<sect1>Are there other KDE-aware "biff" utilities?
<p>

Yes. There are at least two that I know of. Each "biff" has its own strengths.
 <bf>KOrn</bf> was the original. It's main strength is the ability to monitor multiple
 mailboxes with one instance and effectively show the number of messages in
 each. If you have many mailboxes and don't care for the cutesy icons, then
 KOrn is probably a better choice than KBiff. The other "biff" is <bf>KNewMail</bf>.
 KNewMail attempts to emulate the Windows utility NewMail. It checks for POP3
 mail and displays the subject line for each message.
<sect1>What is the difference between a "profile" and a "mailbox" again?
<p>

A "profile" is a group of one or more mailboxes that one instance of
 KBiff will monitor. And example of a profile is "Inbox". A "mailbox" is
 a physical entity that can be monitored by KBiff. An example of a mailbox is
 "/usr/var/username".
<sect1>How do I use my own pixmaps?
<p>

Short answer: select them using the setup dialog.
Longer answer: KBiff
 searches for its icons in the standard KDE icon path. Currently, this is
<verb>kdedir()/share/apps/kbiff/toolbar
kdedir()/share/toolbar
kdedir()/share/icons
kdedir()/share/apps/kbiff/pics
&dollar;HOME/.kde/share/apps/kbiff/toolbar
&dollar;HOME/.kde/share/toolbar
&dollar;HOME/.kde/share/icons
&dollar;HOME/.kde/share/apps/kbiff/pics
</verb>

Where "kdedir()" is usally "/opt/kde" and &dollar;HOME is your home
 directory. If you put your pixmaps in any of these directories (the last one
 listed is recommended), then KBiff should have no problems finding and using
 them.

If you plan on docking KBiff, you should have a 22x22 (or smaller) version
 of your pixmap. The name of the small pixmap should be the name of the larger
 pixmap preceded by "mini-". So if you want to use the default "oldmail.xpm"
 pixmap for old mail but want to use your own "mycoolpixmap.xpm" smaller pixmap
 when it's docked, you should rename your pixmap to "mini-oldmail.xpm" If
 you do not do this, KBiff will use the large version even in the panel.

Note that KBiff determines its size by the old mail pixmap. So if your
 pixmap for old mail is 100x100, but all the other ones are 32x32... well, KBiff
 will look very strange every time new mail arrives.
<sect1>How do I use elm (or mutt or PINE) with KBiff?
<p>

You tried putting "elm" into the Mail Client edit box, didn't you? Whoops!
 'elm', 'mutt', and 'PINE' all need a terminal to run in and KBiff does not
 supply one. The author uses the following as his Mail Client: 
<verb>kvt -vt_geometry 80x35 -caption Mail -no_scrollbar -e mutt &amp;
</verb>

If you use a graphical email client such as KMail or Netscape, then you
 simply need to put the name of the client in the edit box. No terminal is necessary.
<sect1>Why won't KBiff play my newmail.au file?
<p>

KBiff uses the KAudio class to play sounds when new mail arrives. Currently,
 this class only supports .wav files. If you wish to play an .au file when new
 mail arrives, try getting the SOX package and put 'play newmail.au' (or just
 'cat newmail.au &gt; /dev/audio') in the Run Command option.
<sect1>Does KBiff work without session management?
<p>

Yes. Session management is on by default, but you can turn it off in the
 setup dialog. You can still have KBiff start up when KDE starts up by putting
 KBiff into your Autostart folder with the '-profile' option.
<sect1>Clicking on your email address in About does nothing!
<p>

It would be nice to pass the 'mailto:granroth@kde.org' URL to kfm to process
 it.. unfortunately, this is not implemented yet. I did code in some support,
 though. Just set an environment variable MAILER to whatever your mailer is
 and the link should work.
<verb>e.g.
&percnt; setenv MAILER kvt -e mutt
</verb>

Note that this has the pleasant side effect that 'mailto:' links in the
 regular kfm will also use your mailer.
<sect1>When I use KBiff to monitor my mailbox, all other 'biff' utilities stop
 working. What's up?
<p>

This is a result of the new message counting code in KBiff. In order for
 KBiff to know how many new messages are in an mbox mailbox, it must open it
 up to read it. When this happens, most other 'biff' utilities (including your
 shell's built-in one) will assume that you read your mailbox and announce it
 as old (or "read") mail.

There are three ways around this:
<enum>
<item>Don't use KBiff.
<item>Use the 'file' protocol instead of the 'mbox' protocol (note that you'll
 no longer know how many new mails have arrived)
<item>Convert all of your 'mbox' mailboxes to 'maildir'
</enum>
<sect1>How do I use Netscape Mail with KBiff?
<p>

You tried 'netscape -mail', didn't you? You then discovered that this caused
 Netscape to complain about a lockfile if it was already running, right? Well,
 here's a workaround from KBiff user Steven Boger 
<htmlurl url="mailto:sboger@marcus-online.net" name="(sboger@marcus-online.net)">
 Create a shell script like so:
<verb>&num;!/bin/sh
</verb>
<verb>if &lsqb; -L "&dollar;HOME/.netscape/lock" &rsqb;; 
then 
netscape -remote
 'xfeDoCommand(openInbox)' 
else 
netscape -mail &amp; 
fi
</verb>

</article>
