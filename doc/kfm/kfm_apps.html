<HTML>
<TITLE>KFM &amp; Applications</TITLE>
<BODY>
<h1>KFM &amp; Applications</h1>
<P>KFM and KPanel use a common way of managing applications. For every
application one should have at least one file in the directory tree
<CODE>$KDEDIR/apps</CODE>. This tree is the same that makes up the KPanel
start menu. The files in this directory tree are KConfig files. Using them you
can do several things</P>
<UL>
<LI>Combine the this file with an icon.
<LI>Tell KFM which kind of documents this application can read/edit. This
gives you an entry in the popup files of the corresponding documents.
<LI>You can tell KFM and KPanel wether the application must run in a terminal
window.
<LI>You can combine the binary with an icon
<LI>You can tell KPanel and KFM how to start the application.
</UL>
<P>Lets have a look at an example:</P>
<PRE>
[KDE Desktop Entry]
Type=Application
Exec=netscape %u
Icon=netscape3.xpm
TerminalOptions=
Path=
Terminal=0
BinaryPattern=netscape;Netscape;
Comment=Netscape Internet Browser

[Binding]
Protocols=file;ftp;http;
Extensions=HTML;
</PRE>
<P>The first line is a must. The second one tells us about the type of this
file. The third one tells us how to start the application. You may place the
variables <CODE>%u %f %n %d</CODE> in this line and the line may consist of
several commands separated by <CODE>';'</CODE> like your shell does. The
variables may appear several times in the string. They have the following
meaning</P>
<DL>
<DT><CODE>%u</CODE></DT>
<DD>The complete URL of the file
</DD>
<DT><CODE>%f</CODE></DT>
<DD>The normal file name. This will only work for files on the local file
system.
</DD>
<DT><CODE>%d</CODE></DT>
<DD>The parent directory. If the given argument is a file ( not a directory )
then this will give you the directory this file is in.
</DD>
<DT><CODE>%n</CODE></DT>
<DD>The name of the file. If the given argument is a directory then this is
the name of this directory.
</DD>
</DL>
<P><CODE>Icon</CODE> tells the which icon to use. This is the icon that you
will see in KFM as representation for this file and in KPanel if you put this
file on the panel. If you mention a binary pattern then the binary itself will
get this icon in KFM. <CODE>Pattern</CODE> means that all files matching this
pattern will get the icon. The icon must reside in
<CODE>$KDEDIR/lib/pics</CODE>. <CODE>TerminalOptions</CODE> may be any option
that your terminal program understands. <CODE>Path</CODE> is the path in which
to execute the binary, the so called working directory. Setting Terminal to
some value differnt from 0 you can tell KFM to start the binary in an terminal
window. With <CODE>Comment</CODE> you can give some explanation about the
application. If the user has the mouse over the application if KFM he will get
this comment in the right corner of the status bar.</P>
<P>Using the Binding entry is optional. You can tell here which protcols your
application understands. Separate the protocols with <CODE>';'</CODE> and make
shure that you terminate the line with <CODE>';'</CODE>. After doing so you
must tell KFM which kind of documents your application can understand.
Document formats are described elsewhere in their special files. You must know
the filename that describes the document, strip off the "<CODE>.kdelnk</CODE>"
and you have a valid entry for this line. Our example application only
understands documents of type HTML. You can enter some exclusive specials
here. <CODE>ALLFILES</CODE> binds the application to all files with the
required protocol. <CODE>ALL</CODE> binds it to all files and directories and
<CODE>ALLDIRS</CODE> binds it to all directories.</P>
<P>Note that it does not matter for KFM where in the directory tree it finds
the application file. And it does not matter where in the
<CODE>filetypes</CODE> directory tree the referenced document type is. Never
use path names in the <CODE>Extensions</CODE> line.</P>
<P>Read the section about file types to learn how a pattern may look like.</P>
<HR>
<P>Torben Weis
<a href="mailto:/home/src/kfm-0.5.5/doc/weis@kde.org">weis@kde.org</a>, weis@stud.uni-frankfurt.de</P>
</BODY>
</HTML>
