<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>The Kppp Handbook: Configuring an Account</TITLE>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="keywords" CONTENT="kppp dialer ppp ISP Linux KDE">
<META NAME="description" CONTENT="kppp Documentation">
</HEAD>
<BODY BGCOLOR="#ffffff" LINK="#aa0000" TEXT="#000000" > 
<FONT FACE="Helvetica">
<A HREF="http://www.kde.org/"><IMG SRC="logotp3.gif" BORDER="0" ALT="The K Desktop Environment"></A>
<HR WIDTH="100%" SIZE=2 ALIGN="CENTER" NOSHADE>

 
<P ALIGN="RIGHT">

<A HREF="kppp-5.html">Next</A>
<A HREF="kppp-3.html">Previous</A>
<A HREF="kppp.html#toc4">Table of Contents</A>
</P>
<H3><A NAME="s4">4. Configuring an Account</A></H3>

<P>
<H3><A NAME="ss4.1">4.1 Dial</A>
</H3>

<P>
<DL>
<DT><B>Connection Name</B><DD><P>You must give the account a name
<DT><B>Phone Number</B><DD><P>Specify the phone number to dial. You may use character such
as ``-'' to make the number more legible.
<DT><B>Connection Speed</B><DD><P>Choose from the list of connections speeds supported by
your serial port.
<DT><B>Execute Program upon Connect</B><DD><P>kppp will attempt to execute the command specified
here once a ppp link has been set up. 
<P>
<DT><B>Edit default pppd</B><DD><P>This will bring up the pppd arguments dialog. You may use
this dialog to add any desired options that you want kppp to hand to pppd. Make
sure that it always contains the -detach option. See the pppd man page for a
list of available options. Unless you know exactly what you are doing you should
restrain from tinkering with the pppd options.
<P>
</DL>
<H3><A NAME="ss4.2">4.2 IP</A>
</H3>

<P>
<P>
<DL>
<DT><B>Dynamic IP Address</B><DD><P>Check this if your ISP uses dynamic ip address assignment.
That is your ip address will most likely change every time you establish a connection.
<P>
<DT><B>Static IP Address</B><DD><P>Check this is your ISP has given you a static ip address.
In that case you will also need to fill in that address and any Subnet Mask
if applicable. Ask your ISP if unsure.
<P>
<DT><B>Auto-configure Hostname form this IP</B><DD><P>Select this option if you want 
kppp to set the hostname and domain for your machine after successful
setup of a ppp link on connect.
This is done by querying the defined Domain Name Server with the ip
assigned for the ppp link.
This option is useful for those stand-alone machines which want to
use protocols like talk which require the hostname to be the same as your
machine is known in the Internet.
It overrides the Domain Name Option in the  DNS Section.
The machine defaults are restored to the original values 
when you close the ppp link 
Be careful when choosing this option: It may prove useful to you, but
it may also cause lots of undesired side effect. Just play with it ...
<P>
</DL>
<P>
<P>
<H3><A NAME="ss4.3">4.3 DNS</A>
</H3>

<P>
<DL>
<DT><B>Domain Name</B><DD><P>Specify the domain name for your machine.
As with DNS Addresses it is restored to the original specified in /etc/resolv.conf
when the connection goes down.
If it is left blank no changes are made to the domain name specified
in /etc/resolv.conf
<P>
<DT><B>DNS Servers</B><DD><P>Add the Domain Name servers assigned to you by your ISP.
You must specify at least a Domain Name server for your OS to be able
to resolve human readable ip addresses such as ftp.kde.org. The DNS server
addresses supplied must be in numeric form, e.g 128.231.231.233. The
addresses will be added at runtime to /etc/resolv.config.
<P>
<DT><B>Disable existing DNS Servers during Connection</B><DD><P>Select this option if 
you want kppp to disable already existing nameserver entries
in /etc/resolv.conf during connection.
<P>
</DL>
<P>
<P>
<H3><A NAME="ss4.4">4.4 Gateway</A>
</H3>

<P>
<DL>
<DT><B>Default Gateway</B><DD><P>Check this if you want pppd to use the default Gateway
for your machine.
<DT><B>Static Gateway</B><DD><P>Check this if you want to specify the Gateway to be used.
<P>
</DL>
<P>
<P>
<H3><A NAME="ss4.5">4.5 Login Script</A>
</H3>

<P>
<DL>
<DT><B>Edit Script</B><DD><P>Use this dialog to compose a dial in script for your ISP
dialup connection. Use the mini-terminal and the information supplied by
your ISP to understand which sequence of actions needs to be executed.
<P>
<UL>
<LI>Expect: kppp will wait for the specified string to be received.</LI>
<LI>Send: kppp will send the specified string.</LI>
<LI>Pause: pause for the specified number of seconds</LI>
<LI>Hangup: kppp will send the hangup command to the modem</LI>
<LI>Answer: kppp will set the modem into answer mode</LI>
<LI>Timeout: change the default timeout to the specified number of seconds
dynamically during script execution. You can change the timeout several times
during script execution if necessary.
</LI>
<LI>Prompt: Prompt the kppp user to enter a string, given the specified
string as a hint.  The user will see what is typed.
</LI>
<LI>Password: Prompt the kppp user to enter a string, given the specified
string as a hint.  An asterisk will be printed for each character typed.
</LI>
<LI>LoopStart: kppp will wait for the specified string to be received.
It will save the string for use by LoopEnd
</LI>
<LI>LoopEnd: kppp will wait for the specified string to be received to
exit the loop.  If the string given by the corresponding LoopStart is
received first, it will trigger a jump to the line after the LoopStart,
enabling repetition of username/password style paired dialogs.
</LI>
</UL>
<P>
<P>
</DL>
<H4>Example scripts</H4>

<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
Here is the script I use to connect to my ISP:

Expect      ID:                        # wait for ID:
Send        myid                       # you have to substitue myid with your id
Expect      word:                      # wait for 'password'
Send        4u3fjkl                    # send my password '4u3fjkl'
Expect      granted                    # My ISP send 'Permission granted' on login succes.
Send        ppp                        # This starts a ppp connection for 
                                       # me on the ISP side

Here a script for the same account with ID and password prompt:

LoopStart   ID:                        # wait for ID:
Prompt      Please Enter User ID       # Prompt me for my ID and send it off.
Expect      word:                      # wait for 'password'
Password    Please Enter your Password # Prompt me for my password and send it off.
LoopEnd     granted                    # My ISP send 'Permission granted' on login succes.
Send        ppp                        # This starts a ppp connection for me
                                       # on the ISP side
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>
<P>
<H3><A NAME="ss4.6">4.6 Accounting</A>
</H3>

<P>
<DL>
<DT><B>Accounting Setup</B><DD><P>Use the ``Enable accounting'' button to enable/disable
phone cost accounting. Select a rule  appropriate for your region. If
you can't find a rule for your region you will have to write one by following
the supplied <CODE>TEMPLATE</CODE> in <CODE>$(KDEDIR)/doc/HTML/.../kppp/</CODE>. Don't
be afraid though it is really easy. Don't forget to submit your newly created
rules file to me. The newly created rules file can be checked for valid
syntax with the -r rule_file command line option to kppp. and
must be installed in <CODE>$(KDEDIR)/lib/kppp/Rules</CODE> or in 
<CODE>$(HOME)/.kde/kppp/Rules</CODE> before you will be able to select it on this
dialog.
<P>
</DL>
<P>
<P>
<P>
<P>
<P>
<P ALIGN="RIGHT">

<A HREF="kppp-5.html">Next</A>
<A HREF="kppp-3.html">Previous</A>
<A HREF="kppp.html#toc4">Table of Contents</A>
</P>
<CENTER>
<HR WIDTH="100%" SIZE=3 ALIGN=CENTER NOSHADE>
</CENTER>    
</FONT>

 
</BODY>
</HTML>
